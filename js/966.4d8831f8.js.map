{"version":3,"file":"js/966.4d8831f8.js","mappings":"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","sources":["webpack://sanyue_imghub/./src/views/CustomerConfig.vue?8d83","webpack://sanyue_imghub/./src/views/CustomerConfig.vue","webpack://sanyue_imghub/./src/views/CustomerConfig.vue?658e"],"sourcesContent":["import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveDirective as _resolveDirective, withDirectives as _withDirectives } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = {\n  class: \"header-content\"\n};\nconst _hoisted_3 = {\n  class: \"header-action\"\n};\nconst _hoisted_4 = {\n  class: \"main-container\"\n};\nconst _hoisted_5 = {\n  style: {\n    \"margin\": \"8px\"\n  }\n};\nconst _hoisted_6 = [\"src\"];\nconst _hoisted_7 = {\n  class: \"pagination-container\"\n};\nconst _hoisted_8 = {\n  class: \"main-container pagination-container\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_font_awesome_icon = _resolveComponent(\"font-awesome-icon\");\n  const _component_el_tooltip = _resolveComponent(\"el-tooltip\");\n  const _component_el_header = _resolveComponent(\"el-header\");\n  const _component_el_table_column = _resolveComponent(\"el-table-column\");\n  const _component_el_image = _resolveComponent(\"el-image\");\n  const _component_el_table = _resolveComponent(\"el-table\");\n  const _component_el_pagination = _resolveComponent(\"el-pagination\");\n  const _directive_loading = _resolveDirective(\"loading\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_el_header, null, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_2, [_cache[0] || (_cache[0] = _createElementVNode(\"span\", {\n      class: \"title\"\n    }, \"用户管理\", -1)), _createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_el_tooltip, {\n      disabled: $options.disableTooltip,\n      content: \"返回主管理页\",\n      placement: \"bottom\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_font_awesome_icon, {\n        icon: \"home\",\n        class: \"header-icon\",\n        onClick: $options.handleGoHome\n      }, null, 8, [\"onClick\"])]),\n      _: 1\n    }, 8, [\"disabled\"]), _createVNode(_component_el_tooltip, {\n      disabled: $options.disableTooltip,\n      content: \"返回上传页\",\n      placement: \"bottom\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_font_awesome_icon, {\n        icon: \"upload\",\n        class: \"header-icon\",\n        onClick: $options.handleGoUpload\n      }, null, 8, [\"onClick\"])]),\n      _: 1\n    }, 8, [\"disabled\"]), _createVNode(_component_el_tooltip, {\n      disabled: $options.disableTooltip,\n      content: \"退出登录\",\n      placement: \"bottom\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_font_awesome_icon, {\n        icon: \"sign-out-alt\",\n        class: \"header-icon\",\n        onClick: $options.handleLogout\n      }, null, 8, [\"onClick\"])]),\n      _: 1\n    }, 8, [\"disabled\"])])])]),\n    _: 1\n  }), _createElementVNode(\"div\", _hoisted_4, [_createVNode(_component_el_table, {\n    \"expand-row-keys\": $data.expandRowKeys,\n    \"row-key\": $options.getRowKeys,\n    data: $data.dealedData,\n    \"default-sort\": {\n      prop: 'count',\n      order: 'descending'\n    },\n    class: \"main-table\",\n    \"table-layout\": \"fixed\",\n    onExpandChange: $options.expandRow\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_table_column, {\n      type: \"expand\"\n    }, {\n      default: _withCtx(props => [_createElementVNode(\"div\", _hoisted_5, [_cache[1] || (_cache[1] = _createElementVNode(\"h3\", {\n        style: {\n          \"text-align\": \"center\"\n        }\n      }, \"上传文件列表\", -1)), _withDirectives((_openBlock(), _createBlock(_component_el_table, {\n        data: props.row.data,\n        style: {\n          \"width\": \"100%\"\n        },\n        \"default-sort\": {\n          prop: 'metadata.TimeStamp',\n          order: 'descending'\n        },\n        \"table-layout\": \"fixed\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_table_column, {\n          prop: \"metadata.FileName\",\n          label: \"文件名\"\n        }), _createVNode(_component_el_table_column, {\n          prop: \"name\",\n          label: \"文件预览\"\n        }, {\n          default: _withCtx(({\n            row\n          }) => [row.metadata?.FileType?.includes('image') ? (_openBlock(), _createBlock(_component_el_image, {\n            key: 0,\n            src: '/file/' + row.name,\n            fit: \"cover\",\n            lazy: \"\",\n            style: {\n              \"width\": \"100px\",\n              \"height\": \"100px\"\n            }\n          }, null, 8, [\"src\"])) : (_openBlock(), _createElementBlock(\"video\", {\n            key: 1,\n            src: '/file/' + row.name,\n            controls: \"\",\n            style: {\n              \"width\": \"100px\",\n              \"height\": \"100px\"\n            }\n          }, null, 8, _hoisted_6))]),\n          _: 1\n        }), _createVNode(_component_el_table_column, {\n          formatter: $options.formatTimeStamp,\n          label: \"上传时间\",\n          prop: \"metadata.TimeStamp\",\n          sortable: \"\",\n          \"sort-method\": $options.sortByTimestamp\n        }, {\n          default: _withCtx(({\n            row\n          }) => [_createTextVNode(_toDisplayString($options.formatTimeStamp(row.metadata.TimeStamp)), 1)]),\n          _: 1\n        }, 8, [\"formatter\", \"sort-method\"])]),\n        _: 2\n      }, 1032, [\"data\"])), [[_directive_loading, $data.loading]]), _createElementVNode(\"div\", _hoisted_7, [_createVNode(_component_el_pagination, {\n        background: \"\",\n        layout: \"total, sizes, prev, pager, next\",\n        \"page-sizes\": [15, 100, 300, 500, 1000, 5000, 10000],\n        total: props.row.total,\n        \"page-size\": props.row.pageSize,\n        onSizeChange: val => $options.handlePageSizeChange(val, props.row),\n        disabled: props.row.disabledPage,\n        onCurrentChange: val => $options.handlePageChange(val, props.row),\n        \"current-page\": props.row.page\n      }, null, 8, [\"total\", \"page-size\", \"onSizeChange\", \"disabled\", \"onCurrentChange\", \"current-page\"])])])]),\n      _: 1\n    }), _createVNode(_component_el_table_column, {\n      prop: \"ip\",\n      label: \"IP地址\"\n    }), _createVNode(_component_el_table_column, {\n      prop: \"count\",\n      label: \"上传次数\",\n      sortable: \"\"\n    })]),\n    _: 1\n  }, 8, [\"expand-row-keys\", \"row-key\", \"data\", \"onExpandChange\"])]), _createElementVNode(\"div\", _hoisted_8, [_createVNode(_component_el_pagination, {\n    background: \"\",\n    layout: \"total, sizes, prev, pager, next\",\n    \"page-sizes\": [15, 100, 300, 500, 1000, 5000, 10000],\n    total: $data.tableData.total,\n    \"page-size\": $data.tableData.pageSize,\n    onSizeChange: $options.handlePageSizeChange2,\n    disabled: $data.tableData.disabledPage,\n    onCurrentChange: $options.handlePageChange2,\n    \"current-page\": $data.tableData.page\n  }, null, 8, [\"total\", \"page-size\", \"onSizeChange\", \"disabled\", \"onCurrentChange\", \"current-page\"])])]);\n}","import \"core-js/modules/es.array.push.js\";\nimport { mapGetters } from 'vuex';\nexport default {\n  name: 'CustomerConfig',\n  data() {\n    return {\n      loading: false,\n      tableData: {\n        total: 0,\n        page: 1,\n        pageSize: 15,\n        disabledPage: false\n      },\n      dealedData: [],\n      // 根据IP地址处理后的数据，格式为 {ip, count, [data]}\n      expandRowKeys: []\n    };\n  },\n  computed: {\n    ...mapGetters(['credentials']),\n    disableTooltip() {\n      return window.innerWidth < 768;\n    }\n  },\n  methods: {\n    handlePageChange(page, row) {\n      row.page = page;\n      this.getList(row);\n    },\n    handlePageSizeChange(pageSize, row) {\n      row.pageSize = pageSize;\n      this.getList(row);\n    },\n    handlePageChange2(page) {\n      this.tableData.page = page;\n      this.getIpGroupList();\n    },\n    handlePageSizeChange2(pageSize) {\n      this.tableData.pageSize = pageSize;\n      this.getIpGroupList();\n    },\n    getIpGroupList() {\n      const params = this.tableData;\n      let url = \"https://studyjava.cn/api/cloudflare/files/ip\";\n      //拼接参数\n      let paramsArray = [];\n      Object.keys(params).forEach(key => {\n        let val = params[key];\n        if (params[key]) {\n          if (key == 'pageSize') {\n            key = 'size';\n          }\n          paramsArray.push(key + '=' + val);\n        }\n      });\n      if (url.search(/\\?/) === -1) {\n        url += '?' + paramsArray.join('&');\n      } else {\n        url += '&' + paramsArray.join('&');\n      }\n      fetch(url, {\n        method: 'GET'\n      }).then(response => response.json()).then(result => {\n        this.dealedData = this.dealByIP(result.data); // 根据IP地址处理数据\n      }).catch(err => {\n        if (err.message !== 'Unauthorized') {\n          this.$message.error('同步数据时出错，请检查网络连接' + err.message);\n        }\n      });\n    },\n    getList(row) {\n      if (!row.expand) {\n        this.loading = true;\n        row.disabledPage = true;\n        this.fetchWithAuth(\"/api/manage/list?ip=\" + row.ip + \"&page=\" + row.page + \"&pageSize=\" + row.pageSize, {\n          method: 'GET'\n        }).then(response => response.json()).then(result => {\n          row.data = result.data; // 根据IP地址处理数据\n          row.expand = true;\n          row.disabledPage = false;\n          this.loading = false;\n        }).catch(err => {\n          this.loading = false;\n          if (err.message !== 'Unauthorized') {\n            this.$message.error('同步数据时出错，请检查网络连接');\n          }\n        });\n      }\n    },\n    getRowKeys: function (row) {\n      return row.id;\n    },\n    expandRow(row, expandedRows) {\n      let that = this;\n      if (expandedRows.length > 0) {\n        that.expandRowKeys = [];\n        if (row) {\n          this.getList(row);\n          that.expandRowKeys.push(row.id); // 每次push进去的是每行的ID\n        }\n      } else {\n        that.expandRowKeys = []; // 默认不展开\n      }\n    },\n    async fetchWithAuth(url, options = {}) {\n      // 开发环境, url 前面加上 /api\n      // url = `/api${url}`;\n      if (this.credentials) {\n        // 设置 Authorization 头\n        options.headers = {\n          ...options.headers,\n          'Authorization': `Basic ${this.credentials}`\n        };\n        // 确保包含凭据，如 cookies\n        options.credentials = 'include';\n      }\n      const response = await fetch(url, options);\n      if (response.status === 401) {\n        // Redirect to the login page if a 401 Unauthorized is returned\n        this.$message.error('认证状态错误，请重新登录');\n        this.$router.push('/adminLogin');\n        throw new Error('Unauthorized');\n      }\n      return response;\n    },\n    dealByIP(data) {\n      let dealedData = [];\n      this.tableData.total = data.total;\n      data.records.forEach(item => {\n        let ip = item?.UploadIP;\n        let count = item?.count;\n        dealedData.push({\n          id: ip,\n          ip,\n          count,\n          total: count,\n          page: 1,\n          pageSize: 15,\n          disabledPage: false,\n          data: []\n        });\n      });\n      return dealedData;\n    },\n    handleGoUpload() {\n      this.$router.push('/');\n    },\n    handleLogout() {\n      this.$store.commit('setCredentials', null);\n      this.$router.push('/adminLogin');\n    },\n    handleGoHome() {\n      this.$router.push('/dashboard');\n    },\n    formatTimeStamp(timeStamp) {\n      return new Date(timeStamp).toLocaleString();\n    },\n    sortByTimestamp(a, b) {\n      return new Date(a.metadata.TimeStamp) - new Date(b.metadata.TimeStamp);\n    }\n  },\n  mounted() {\n    this.fetchWithAuth(\"/api/manage/check\", {\n      method: 'GET'\n    }).then(response => response.text()).then(result => {\n      if (result == \"true\") {\n        this.showLogoutButton = true;\n        // 在 check 成功后再执行 list 的 fetch 请求\n        this.getIpGroupList();\n      } else if (result == \"Not using basic auth.\") {\n        this.getIpGroupList();\n      } else {\n        throw new Error('Unauthorized');\n      }\n    }).catch(err => {\n      if (err.message !== 'Unauthorized') {\n        this.$message.error('同步数据时出错，请检查网络连接' + err.message);\n      }\n    });\n  }\n};","/* unplugin-vue-components disabled */import { render } from \"./CustomerConfig.vue?vue&type=template&id=7ec82c90&scoped=true\"\nimport script from \"./CustomerConfig.vue?vue&type=script&lang=js\"\nexport * from \"./CustomerConfig.vue?vue&type=script&lang=js\"\n\nimport \"./CustomerConfig.vue?vue&type=style&index=0&id=7ec82c90&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7ec82c90\"]])\n\nexport default __exports__"],"names":["_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","style","_hoisted_6","_hoisted_7","_hoisted_8","render","_ctx","_cache","$props","$setup","$data","$options","_component_font_awesome_icon","_component_el_tooltip","_component_el_header","_component_el_table_column","_component_el_image","_component_el_table","_component_el_pagination","_directive_loading","default","disabled","disableTooltip","content","placement","icon","onClick","handleGoHome","_","handleGoUpload","handleLogout","expandRowKeys","getRowKeys","data","dealedData","prop","order","onExpandChange","expandRow","type","props","row","label","metadata","FileType","includes","key","src","name","fit","lazy","controls","formatter","formatTimeStamp","sortable","sortByTimestamp","TimeStamp","loading","background","layout","total","pageSize","onSizeChange","val","handlePageSizeChange","disabledPage","onCurrentChange","handlePageChange","page","tableData","handlePageSizeChange2","handlePageChange2","computed","window","innerWidth","methods","this","getList","getIpGroupList","params","url","paramsArray","Object","keys","forEach","push","search","join","fetch","method","then","response","json","result","dealByIP","catch","err","message","$message","error","expand","fetchWithAuth","ip","id","expandedRows","that","length","options","credentials","headers","status","$router","Error","records","item","UploadIP","count","$store","commit","timeStamp","Date","toLocaleString","a","b","mounted","text","showLogoutButton","__exports__"],"sourceRoot":""}